<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>COBOL Code Editor and Compiler</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  
  <!-- Navigation Bar Stylesheet -->
  <link href="css/nav.css" rel="stylesheet">

  <style>
    #nextButton, #showExpectedOutputButton, #markAsCorrectButton, #prevButton {
      margin-bottom: 40px;
      margin-right: 10px;
    }
    .hidden {
      display: none;
    }
    .correct {
      color: green;
    }
    .incorrect {
      color: red;
    }
    #challengeList li {
      cursor: pointer;
      padding: 5px;
    }
    #challengeList li:hover {
      background-color: #f2f2f2;
    }
    #challengeList li.correct {
      background-color: #d4edda;
      color: #155724;
    }
    #challengeList li.incorrect {
      background-color: #f8d7da;
      color: #721c24;
    }
    .difficulty {
      font-weight: bold;
      margin-left: 10px;
    }
    .easy { color: green; }
    .medium { color: orange; }
    .hard { color: red; }
  </style>
</head>
<body>
  <!-- Navigation Bar -->
  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="course .html">100 Challenges</a></li>
      <li><a href="learn.html">Learn</a></li>
    </ul>
  </nav>


  
  <h1> 100 Challenges </h1>
  <button id="prevButton" onclick="prevChallenge()">&lt;</button>
  <button id="nextButton" onclick="nextChallenge()">&gt;</button>
  <div id="challengeText"></div>
  <div id="challengeDifficulty"></div>
  <button id="showExpectedOutputButton" onclick="showExpectedOutput()">Show Expected Output</button>
  <button id="markAsCorrectButton" onclick="markAsCorrect()">Mark as Correct</button>
  <div id="expectedOutput" class="hidden"></div>
  <div data-pym-src="https://www.jdoodle.com/embed/v1/86d1c02375800a77"></div>
  <script src="https://www.jdoodle.com/assets/jdoodle-pym.min.js" type="text/javascript"> </script>
  <div id="outputResult"></div>
  <div id="answerResult"></div>

  <h1>Challenge Statistics</h1>

  <div class="stats">
    <p id="total-correct"></p>
    <p id="percentage-correct"></p>
    <p id="total-easy"></p>
    <p id="total-medium"></p>
    <p id="total-hard"></p>
  </div>



  <h3>All Challenges</h3>
  <ul id="challengeList"></ul>
 
  <script>
    const challengeTextElement = document.getElementById('challengeText');
    const challengeDifficultyElement = document.getElementById('challengeDifficulty');
    const runButtonElement = document.getElementById('runButton');
    const checkAnswerButtonElement = document.getElementById('checkAnswerButton');
    const outputResultElement = document.getElementById('outputResult');
    const answerResultElement = document.getElementById('answerResult');
    const nextButtonElement = document.getElementById('nextButton');
    const prevButtonElement = document.getElementById('prevButton');
    const showExpectedOutputButtonElement = document.getElementById('showExpectedOutputButton');
    const markAsCorrectButtonElement = document.getElementById('markAsCorrectButton');
    const expectedOutputElement = document.getElementById('expectedOutput');
    const challengeListElement = document.getElementById('challengeList');

   
   
   
   
    // Load challenges
    const challenges = [
      {
        text: 'Write a COBOL program that prints "Hello, World!" to the console.',
        expectedOutput: 'Hello, World!',
        isCorrect: false,
        difficulty: 'easy'
      },
      // Add more challenges here with their respective difficulties
    ];

    let currentChallengeIndex = 0;

    function getCurrentChallenge() {
      return challenges[currentChallengeIndex];
    }

    function displayChallenge() {
      const challenge = getCurrentChallenge();
      challengeTextElement.textContent = challenge.text;
      challengeDifficultyElement.textContent = `Difficulty: ${challenge.difficulty}`;
      challengeDifficultyElement.className = `difficulty ${challenge.difficulty}`;
      updateChallengeTextColor(challenge);
      expectedOutputElement.textContent = '';
      expectedOutputElement.classList.add('hidden');
    }

    function nextChallenge() {
      currentChallengeIndex++;

      if (currentChallengeIndex < challenges.length) {
        displayChallenge();
        outputResultElement.textContent = "";
        answerResultElement.textContent = "";
        prevButtonElement.disabled = false;
      } else {
        nextButtonElement.disabled = true;
      }
    }

    function prevChallenge() {
      currentChallengeIndex--;

      if (currentChallengeIndex >= 0) {
        displayChallenge();
        outputResultElement.textContent = "";
        answerResultElement.textContent = "";
        nextButtonElement.disabled = false;
      } else {
        currentChallengeIndex = 0;
        prevButtonElement.disabled = true;
      }
    }

    function showExpectedOutput() {
      const challenge = getCurrentChallenge();
      expectedOutputElement.textContent = 'Expected Output: ' + challenge.expectedOutput;
      expectedOutputElement.classList.remove('hidden');
    }

    function markAsCorrect() {
      alert("Warning: Dishonest answers and users may be removed. Ensure you're solving the challenges honestly.");
      const currentChallenge = getCurrentChallenge();
      currentChallenge.isCorrect = !currentChallenge.isCorrect;
      updateChallengeTextColor(currentChallenge);
      updateChallengeListColors();
    }

    function updateChallengeTextColor(challenge) {
      challengeTextElement.classList.remove('correct', 'incorrect');
      if (challenge.isCorrect) {
        challengeTextElement.classList.add('correct');
      } else {
        challengeTextElement.classList.add('incorrect');
      }
    }

    function updateChallengeListColors() {
      const listItems = challengeListElement.getElementsByTagName('li');
      for (let i = 0; i < listItems.length; i++) {
        const listItem = listItems[i];
        const challenge = challenges[i];
        listItem.classList.remove('correct', 'incorrect');
        if (challenge.isCorrect) {
          listItem.classList.add('correct');
        } else {
          listItem.classList.add('incorrect');
        }
      }
    }

    window.addEventListener('message', function(e) {
      if (e.data && e.data.type === 'result') {
        const output = e.data.output;
        outputResultElement.textContent = "Output: " + output;
      }
    }, false);

    // Populate the challenge list
    challenges.forEach((challenge, index) => {
      const listItem = document.createElement('li');
      listItem.innerHTML = `${index + 1}. ${challenge.text} <span class="difficulty ${challenge.difficulty}">(${challenge.difficulty})</span>`;
      listItem.addEventListener('click', () => {
        currentChallengeIndex = index;
        displayChallenge();
      });
      if (challenge.isCorrect) {
        listItem.classList.add('correct');
      } else {
        listItem.classList.add('incorrect');
      }
      challengeListElement.appendChild(listItem);
    });

    updateChallengeListColors();
    displayChallenge();
    prevButtonElement.disabled = true; // Disable prev button for the first challenge


    function calculateStats(challenges) {
      const totalChallenges = challenges.length;
      const correctChallenges = challenges.filter(challenge => challenge.isCorrect).length;
      const percentageCorrect = ((correctChallenges / totalChallenges) * 100).toFixed(2);

      // Calculate how many challenges of each difficulty level are correct
      const totalEasy = challenges.filter(challenge => challenge.difficulty === 'easy' && challenge.isCorrect).length;
      const totalMedium = challenges.filter(challenge => challenge.difficulty === 'medium' && challenge.isCorrect).length;
      const totalHard = challenges.filter(challenge => challenge.difficulty === 'hard' && challenge.isCorrect).length;


      return {
        total: totalChallenges,
        correct: correctChallenges,
        percentage: percentageCorrect,
        easy: totalEasy,
        medium: totalMedium,
        hard: totalHard
      };
    }

    // Update stats in the HTML
    function updateStatsUI() {
      const stats = calculateStats(challenges);
      document.getElementById('total-correct').innerText = `Total Correct: ${stats.correct} out of ${stats.total}`;
      document.getElementById('percentage-correct').innerText = `Percentage Correct: ${stats.percentage}%`;
      document.getElementById('total-easy').innerText = `Total Easy Challenges: ${stats.easy}`;
      document.getElementById('total-medium').innerText = `Total Medium Challenges: ${stats.medium}`;
      document.getElementById('total-hard').innerText = `Total Hard Challenges: ${stats.hard}`;
    }

    // Initialize the stats on page load
    updateStatsUI();
  </script>











</script>



</body>
</html>
