<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>LearnCOBOL - Online COBOL Learning Platform</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600&family=Nunito:wght@600;700;800&display=swap" rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">

    <!-- Auth Stylesheet -->
    <link href="css/auth.css" rel="stylesheet">

    <!-- Navigation Bar Stylesheet -->
    <link href="css/nav.css" rel="stylesheet">
</head>

<body>
    <!-- Navigation Bar -->
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="course.html">100 Challenges</a></li>
            <li><a href="learn.html">Learn</a></li>
        </ul>
    </nav>


    <!-- Hero Section Start -->
    <div class="container-fluid p-0 mb-5">
        <div class="position-relative">
            <img class="img-fluid w-100" src="jpg/carousel-1.jpg" alt="">
            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center" style="background: rgba(24, 29, 56, .7);">
                <div class="container">
                    <div class="row justify-content-start">
                        <div class="col-sm-10 col-lg-8">
                            <h5 class="text-primary text-uppercase mb-3 animated slideInDown">100 days of COBOL</h5>
                            <h1 class="display-3 text-white animated slideInDown">Learn COBOL</h1>
                            <p class="fs-5 text-white mb-4 pb-2">Master the language that powers critical systems worldwide</p>
                            <div id="userInfo" style="display: none;">
                                <h3 class="text-white">Welcome, <span id="userName"></span>!</h3>
                                <p class="text-white">Your COBOL Course Progress: <span id="userProgress"></span>%</p>
                                <button id="logoutBtn" class="btn btn-light">Logout</button>
                            </div>
                            <a href="#auth-section" class="btn btn-primary py-md-3 px-md-5 me-3 animated slideInLeft">Get Started</a>
                            <a href="course.html" class="btn btn-light py-md-3 px-md-5 animated slideInRight">Start Course</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Hero Section End -->

    <!-- Authentication Section Start -->
    <div id="auth-section" class="container py-5">
        <div class="row justify-content-between">
            <div class="col-lg-5">
                <h2 class="text-center mb-4">Login</h2>
                <form id="loginForm" class="mb-5">
                    <div class="mb-3">
                        <input type="email" class="form-control" id="loginEmail" placeholder="Enter your email" required>
                    </div>
                    <div class="mb-3">
                        <input type="password" class="form-control" id="loginPassword" placeholder="Enter your password" required>
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="showLoginPassword">
                        <label class="form-check-label" for="showLoginPassword">Show password</label>
                    </div>
                    <div id="loginError" class="alert alert-danger d-none" role="alert"></div>
                    <button type="submit" class="btn btn-primary w-100">
                        <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                        Login
                    </button>
                </form>
            </div>
            <div class="col-lg-5">
                <h2 class="text-center mb-4">Sign Up</h2>
                <form id="signupForm" class="mb-5">
                    <div class="mb-3">
                        <input type="text" class="form-control" id="signupName" placeholder="Enter your name" required>
                    </div>
                    <div class="mb-3">
                        <input type="email" class="form-control" id="signupEmail" placeholder="Enter your email" required>
                    </div>
                    <div class="mb-3">
                        <input type="password" class="form-control" id="signupPassword" placeholder="Enter your password" required>
                    </div>
                    <div class="mb-3">
                        <input type="password" class="form-control" id="signupConfirmPassword" placeholder="Confirm your password" required>
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="showSignupPassword">
                        <label class="form-check-label" for="showSignupPassword">Show password</label>
                    </div>
                    <div id="signupError" class="alert alert-danger d-none" role="alert"></div>
                    <button type="submit" class="btn btn-primary w-100">
                        <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                        Sign Up
                    </button>
                </form>
            </div>
        </div>
    </div>
    <!-- Authentication Section End -->

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>

    <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

    <!-- Template Javascript -->
    <script>
        // Initialize Firebase
        const firebaseConfig = {
        apiKey: "AIzaSyCRG4zTvQatqvgz46nTXXao0-qSWr5u3gA",
        authDomain: "learncobol-452ff.firebaseapp.com",
        projectId: "learncobol-452ff",
        storageBucket: "learncobol-452ff.appspot.com",
        messagingSenderId: "785464884209",
        appId: "1:785464884209:web:d4ed745c0d8571ac322250",
        measurementId: "G-7QVF8EY1NT"
            // Your Firebase configuration goes here
        };

        firebase.initializeApp(firebaseConfig);

        // Get references to the login and signup forms
        const loginForm = document.getElementById('loginForm');
        const signupForm = document.getElementById('signupForm');

        // Add event listeners to the login and signup forms
        loginForm.addEventListener('submit', handleLogin);
        signupForm.addEventListener('submit', handleSignup);

        // Define the login and signup event handlers
        async function handleLogin(event) {
            event.preventDefault();

            // Get the email and password from the login form
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            try {
                // Sign in the user with Firebase Authentication
                await firebase.auth().signInWithEmailAndPassword(email, password);

                // Display the user's information
                const user = firebase.auth().currentUser;
                document.getElementById('userName').textContent = user.displayName;
                document.getElementById('userInfo').style.display = 'block';
            } catch (error) {
                // Display the error message
                document.getElementById('loginError').textContent = error.message;
                document.getElementById('loginError').classList.remove('d-none');
            }
        }

        async function handleSignup(event) {
            event.preventDefault();

            // Get the name, email, and password from the signup form
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('signupConfirmPassword').value;

            // Validate the password and confirm password
            if (password !== confirmPassword) {
                document.getElementById('signupError').textContent = 'Passwords do not match.';
                document.getElementById('signupError').classList.remove('d-none');
                return;
            }

            try {
                // Create a new user with Firebase Authentication
                const userCredential = await firebase.auth().createUserWithEmailAndPassword(email, password);
                const user = userCredential.user;

                // Update the user's display name
                await user.updateProfile({ displayName: name });

                // Display the user's information
                document.getElementById('userName').textContent = name;
                document.getElementById('userInfo').style.display = 'block';
            } catch (error) {
                // Display the error message
                document.getElementById('signupError').textContent = error.message;
                document.getElementById('signupError').classList.remove('d-none');
            }
        }
    </script>
</body>

</html>